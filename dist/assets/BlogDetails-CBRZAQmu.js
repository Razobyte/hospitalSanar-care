import{u as L,r as a,j as e,R as E,C as u,I as r,a as I}from"./index-CLSAfh87.js";import{S as _}from"./Section10-CdonkK_W.js";import{S as B}from"./Section11-C8-oYNR6.js";import{C as n}from"./Card-DC1jSqN4.js";import"./swiper-CZu1iGeb.js";/* empty css             */function M(){const{slug:i}=L(),[o,x]=a.useState(null),[j,m]=a.useState(!0),[h,c]=a.useState(null),[d,f]=a.useState(""),[p,S]=a.useState(""),[y,b]=a.useState([]),[N,C]=a.useState([]);let w="https://www.shopifysolutions.in/website/sanarcare/androidApi/index.php";const v=async()=>{var s;try{m(!0);const t=new FormData;t.append("view","blog_detail"),t.append("slug",i),t.append("category",d);const g=await I.post(w,t,{headers:{"Content-Type":"multipart/form-data"}});if(((s=g.data)==null?void 0:s.msgcode)==="1"){const l=g.data.response;l!=null&&l.blogDetail?(x(l.blogDetail),b(l.blog_categories||[]),C(l.recent_blogs||[])):c("No blog details found in the response")}else c("API response did not indicate success")}catch(t){c("Error fetching blog details: "+(t.message||"Unknown error"))}finally{m(!1)}};a.useEffect(()=>{i&&v()},[i,d]);const P=s=>{f(s.target.value)},D=s=>{S(s.target.value)},R=N.filter(s=>s.title.toLowerCase().includes(p.toLowerCase()));return j?e.jsx("div",{children:"Loading..."}):h?e.jsxs("div",{children:["Error: ",h]}):o?e.jsxs(e.Fragment,{children:[e.jsxs(E,{className:"py-4 d-flex justify-content-center align-items-start gap-5",children:[e.jsx(u,{md:5,xl:5,xs:12,className:"px-0",children:e.jsxs(n,{className:"border-0  rounded",children:[e.jsx(n.Img,{variant:"top",src:o.image,alt:o.title}),e.jsxs(n.Body,{children:[e.jsx(n.Title,{className:"text-primary",children:o.title}),e.jsx(n.Text,{children:o.short_description}),e.jsx("div",{dangerouslySetInnerHTML:{__html:o.description}})]})]})}),e.jsxs(u,{md:3,xl:3,className:"p-3",children:[e.jsxs("div",{className:"mb-4 shadow-sm rounded p-4 bg-white",children:[e.jsx(r,{children:e.jsxs(r.Group,{controlId:"categorySearch",children:[e.jsx(r.Label,{className:"text-muted hed3",children:"Categories"}),e.jsx(r.Control,{type:"text",placeholder:"Search categories...",value:d,onChange:P,className:"rounded-pill"})]})}),e.jsx("ul",{className:"list-unstyled mt-3",children:y.map((s,t)=>e.jsx("li",{className:"mb-2 hed4",style:{cursor:"pointer"},children:s.name},t))})]}),e.jsxs("div",{className:"shadow-sm rounded p-4 bg-white",children:[e.jsx(r,{children:e.jsxs(r.Group,{controlId:"recentPostSearch",children:[e.jsx(r.Label,{className:"text-muted hed3",children:"Recent Posts"}),e.jsx(r.Control,{type:"text",placeholder:"Search recent posts...",value:p,onChange:D,className:"rounded-pill"})]})}),R.map((s,t)=>e.jsxs("div",{className:"recent-post d-flex gap-3 mb-3 align-items-center",children:[e.jsx("div",{className:"w-50",children:s.image&&e.jsx("img",{src:s.image,alt:s.title,className:"img-fluid"})}),e.jsx("p",{className:"mb-0 para",style:{cursor:"pointer"},children:s.title})]},t))]})]})]}),e.jsx(B,{}),e.jsx(_,{})]}):e.jsxs("div",{children:["No blog details found. Slug: ",i]})}export{M as default};

import{u as L,r as a,j as e,R as E,C as u,H as r,a as _}from"./index-Bs8YtzlX.js";import{S as B,a as I}from"./Section11-DhhZGyNS.js";/* empty css             */import{C as n}from"./Card-Cm7PK_fh.js";import"./swiper-DWbAbxUX.js";function k(){const{slug:i}=L(),[l,x]=a.useState(null),[j,m]=a.useState(!0),[h,c]=a.useState(null),[d,f]=a.useState(""),[p,b]=a.useState(""),[S,y]=a.useState([]),[N,C]=a.useState([]);let w="https://www.shopifysolutions.in/website/sanarcare/androidApi/index.php";const v=async()=>{var s;try{m(!0);const t=new FormData;t.append("view","blog_detail"),t.append("slug",i),t.append("category",d);const g=await _.post(w,t,{headers:{"Content-Type":"multipart/form-data"}});if(((s=g.data)==null?void 0:s.msgcode)==="1"){const o=g.data.response;o!=null&&o.blogDetail?(x(o.blogDetail),y(o.blog_categories||[]),C(o.recent_blogs||[])):c("No blog details found in the response")}else c("API response did not indicate success")}catch(t){c("Error fetching blog details: "+(t.message||"Unknown error"))}finally{m(!1)}};a.useEffect(()=>{i&&v()},[i,d]);const P=s=>{f(s.target.value)},D=s=>{b(s.target.value)},R=N.filter(s=>s.title.toLowerCase().includes(p.toLowerCase()));return j?e.jsx("div",{children:"Loading..."}):h?e.jsxs("div",{children:["Error: ",h]}):l?e.jsxs(e.Fragment,{children:[e.jsxs(E,{className:"py-sm-4 py-2 d-flex justify-content-center align-items-start gap-sm-5 gap-0",children:[e.jsx(u,{md:5,xl:5,xs:12,className:"px-0",children:e.jsxs(n,{className:"border-0  rounded",children:[e.jsx(n.Img,{variant:"top",src:l.image,alt:l.title}),e.jsxs(n.Body,{children:[e.jsx(n.Title,{className:"text-primary",children:l.title}),e.jsx(n.Text,{className:"hed4",children:l.short_description}),e.jsx("div",{className:"para",dangerouslySetInnerHTML:{__html:l.description}})]})]})}),e.jsxs(u,{md:3,xl:3,className:"p-sm-3",children:[e.jsxs("div",{className:"mb-sm-4  mb-2 shadow-sm rounded p-sm-4 p-2 bg-white",children:[e.jsx(r,{children:e.jsxs(r.Group,{controlId:"categorySearch",children:[e.jsx(r.Label,{className:"text-muted hed3",children:"Categories"}),e.jsx(r.Control,{type:"text",placeholder:"Search categories...",value:d,onChange:P,className:"rounded-pill"})]})}),e.jsx("ul",{className:"list-unstyled mt-3",children:S.map((s,t)=>e.jsx("li",{className:"mb-2 hed4",style:{cursor:"pointer"},children:s.name},t))})]}),e.jsxs("div",{className:"shadow-sm rounded p-4 bg-white",children:[e.jsx(r,{children:e.jsxs(r.Group,{controlId:"recentPostSearch",children:[e.jsx(r.Label,{className:"text-muted hed3",children:"Recent Blogs"}),e.jsx(r.Control,{type:"text",placeholder:"Search recent posts...",value:p,onChange:D,className:"rounded-pill mb-2"})]})}),R.map((s,t)=>e.jsxs("div",{className:"recent-post d-flex gap-3 mb-3 align-items-center",children:[e.jsx("div",{children:s.image&&e.jsx("img",{src:s.image,alt:s.title,className:" recent-blog-img"})}),e.jsx("p",{className:"mb-0 para",style:{cursor:"pointer"},children:s.title})]},t))]})]})]}),e.jsx(B,{}),e.jsx(I,{})]}):e.jsxs("div",{children:["No blog details found. Slug: ",i]})}export{k as default};
